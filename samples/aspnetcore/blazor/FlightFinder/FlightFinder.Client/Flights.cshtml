@page "/"
@layout MainLayout
@inject AppState state

<div id="search-and-results-area">
    <div id="search-area" class="px-2 py-3">
        <FlightSearch OnSearch=state.SearchFlights />
    </div>
    <div id="results-area">
        <GreyOutZone IsGreyedOut=state.SearchInProgress>
            <FlightSearchResults Itineraries="state.FlightSearchResults" OnAddItinerary="state.AddToShortlist" />
        </GreyOutZone>
    </div>
</div>
<div id="selections-area" class="p-3 pl-4">
    <Shortlist Items=state.Shortlist OnRemoveItinerary="state.RemoveFromShortlist" />
</div>

@functions
{
    protected override void OnInit()
    {
        state.OnChange += StateHasChanged;
    }
}
